hash:
  因为过期时间问题, 为避免hash键过期导致redis和mysql数据不一致. 获取单个时先用hget逻辑,键值为空说明键值为空或过期,此时用hgetall逻辑.  hset时要防止键已过期或即将过期, 先ttl查看键剩余时间, 比如如果小于5分钟,先hgetall,然后再hset; 最方便的是把hash键设为永不过期, 这样只需防止意外导致键被清空,在hset和hget之前判断该键是否存在,若不存在就hgetall,其他处理都不需要了,也浪费不了多少内存
